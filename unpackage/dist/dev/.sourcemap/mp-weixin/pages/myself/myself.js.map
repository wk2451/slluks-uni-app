{"version":3,"sources":["webpack:///C:/Users/User/Desktop/SLLUKS11.23/SLLUKS/main.js","webpack:///C:/Users/User/Desktop/SLLUKS11.23/SLLUKS/pages/myself/myself.vue?0679","webpack:///C:/Users/User/Desktop/SLLUKS11.23/SLLUKS/pages/myself/myself.vue?c862","webpack:///C:/Users/User/Desktop/SLLUKS11.23/SLLUKS/pages/myself/myself.vue?c7fc","webpack:///C:/Users/User/Desktop/SLLUKS11.23/SLLUKS/pages/myself/myself.vue?dc60","webpack:///C:/Users/User/Desktop/SLLUKS11.23/SLLUKS/pages/myself/myself.vue","webpack:///C:/Users/User/Desktop/SLLUKS11.23/SLLUKS/pages/myself/myself.vue?f99e","webpack:///C:/Users/User/Desktop/SLLUKS11.23/SLLUKS/pages/myself/myself.vue?8536"],"names":["Page","App","data","user_image","is_login","components","methods","islogin","_this","wx","checkSession","success","uni","getStorageSync","fail","getuserinfo","res1","console","log","detail","userInfo","avatarUrl","setStorageSync","login","res2","request","url","code","res3","session_key","openid","e","hideLoading","iv","showToast","title","icon","sessionKey","method","header","appid","encryptedData","res4","onLoad","options","onPullDownRefresh","onReachBottom","onTabItemTap"],"mappings":"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","file":"pages/myself/myself.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/myself/myself.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./myself.vue?vue&type=template&id=cf077392&\"\nimport script from \"./myself.vue?vue&type=script&lang=js&\"\nexport * from \"./myself.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myself.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\User\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('cf077392', component.options)\n    } else {\n      api.reload('cf077392', component.options)\n    }\n    module.hot.accept(\"./myself.vue?vue&type=template&id=cf077392&\", function () {\n      api.rerender('cf077392', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"SLLUKS11.23/SLLUKS/pages/myself/myself.vue\"\nexport default component.exports","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./myself.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./myself.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./myself.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./myself.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./myself.vue?vue&type=template&id=cf077392&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  import pageHead from '../../components/page-head.vue';\n\n  export default {\n    data() {\n      return {\n        user_image: \"\",\n\t\tis_login: false,\n      }\n    },\n    components: {\n      \n    },\n    methods: {\n\t\t\t//判断是否登陆\n\t\t\tislogin:function(){\n\t\t\t\tvar _this = this;\n\t\t\t\twx.checkSession({\n\t\t\t\t\tsuccess () {\n\t\t\t\t\t\t//session_key 未过期，并且在本生命周期一直有效\n\t\t\t\t\t\t_this.is_login = true;\n\t\t\t\t\t\t_this.user_image = uni.getStorageSync('avatarUrl');\n\t\t\t\t\t},\n\t\t\t\t\tfail () {\n\t\t\t\t\t\t// session_key 已经失效，需要重新执行登录流程\n\t\t\t\t\t\t_this.is_login = false;\n\t\t\t\t\t\t_this.getuserinfo();\n\t\t\t\t\t}                   \n\t\t\t\t})\n\t\t\t},\n\t\t\tgetuserinfo : function(res1){\n\t\t\t\tconsole.log(1111);\n\t\t\t\tvar _this = this;\n\t\t\t\t_this.user_image = res1.detail.userInfo.avatarUrl;\n\t\t\t\tuni.setStorageSync('avatarUrl', res1.detail.userInfo.avatarUrl);\n\t\t\t //如果只需要opendid 和非加密数据至此登录完成\n\t\t\t //此处连接数据库利用openid 就可以进行登录环节\n\t\t\t //免费的视频教程 http://www.hcoder.net/tutorials/info_141.html\n\t\t\t wx.login({\n\t\t\t\tsuccess:function(res2){\n\t\t\t\t //获取 sessionKey\n\t\t\t\t wx.request({\n\t\t\t\t\turl : 'https://www.slluks.com/index.php/app/member/wechatLogin',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tcode: res2.code\n\t\t\t\t\t},\n\t\t\t\t\tsuccess:function(res3){\n\t\t\t\t\t console.log(2222);\n\t\t\t\t\t //记录到本地\n\t\t\t\t\t try{\n\t\t\t\t\t\tuni.setStorageSync('sk', res3.data.session_key);\n\t\t\t\t\t\tuni.setStorageSync('openid', res3.data.openid);\n\t\t\t\t\t }catch(e){\n\t\t\t\t\t\t//TODO handle the exception\n\t\t\t\t\t }\n\t\t\t\t\t uni.hideLoading();\n\t\t\t\t\t //以下步骤可以获取加密信息，需要授权\n\t\t\t\t\t //获取加密信息\n\t\t\t\t\t if(!res1.detail.iv){\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t title:\"您取消了授权,登录失败\",\n\t\t\t\t\t\t icon:\"none\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t }\n\t\t\t\t\t try{\n\t\t\t\t\t\tvar sessionKey = uni.getStorageSync('sk');\n\t\t\t\t\t\tconsole.log(3333);\n\t\t\t\t\t }catch(e){\n\t\t\t\t\t\t//TODO handle the exception\n\t\t\t\t\t }\n\t\t\t\t\t wx.request({\n\t\t\t\t\t\tmethod : \"POST\",\n\t\t\t\t\t\turl : 'https://www.slluks.com/index.php/app/member/wechatRegister',\n\t\t\t\t\t\theader : {'content-type':'application/x-www-form-urlencoded'},\n\t\t\t\t\t\tdata : {\n\t\t\t\t\t\t appid : \"wxdfe1b8c60ee623a0\",\n\t\t\t\t\t\t sessionKey : sessionKey,\n\t\t\t\t\t\t iv : res1.detail.iv,\n\t\t\t\t\t\t encryptedData : res1.detail.encryptedData\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess:function(res4){\n\t\t\t\t\t\t console.log(44444);\n\t\t\t\t\t\t if(res4.data != '-41003'){\n\t\t\t\t\t\t\t uni.setStorageSync('uid',res4.data);\n\t\t\t\t\t\t\t console.log(res4.data);\n\t\t\t\t\t\t\t _this.islogin();\n\t\t\t\t\t\t }\n\t\t\t\t\t\t}\n\t\t\t\t\t });\n\t\t\t\t\t}\n\t\t\t\t })\n\t\t\t\t}\n\t\t\t });\n\t\t\t}\n    },\n    onLoad: function (options) {\n\t\t\tthis.islogin();\n\t\t},\n    onPullDownRefresh() {\n\n    },\n    onReachBottom() {\n\n    },\n\tonTabItemTap(){\n\n\t}\n  }\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm.is_login\n    ? _c(\"view\", { staticClass: \"page\" }, [\n        _c(\"view\", { staticClass: \"userinfo\" }, [\n          _c(\"image\", { attrs: { src: _vm.user_image, mode: \"widthFix\" } })\n        ]),\n        _c(\n          \"view\",\n          { staticClass: \"options\" },\n          [\n            _c(\n              \"navigator\",\n              {\n                staticClass: \"option myorder\",\n                staticStyle: {\n                  background:\n                    \"url('../../static/images/order.png') no-repeat 35% center\",\n                  \"background-size\": \"auto 60%\"\n                },\n                attrs: {\n                  url: \"/pages/orderlist/orderlist\",\n                  \"open-type\": \"navigate\"\n                }\n              },\n              [_vm._v(\"我的订单\")]\n            ),\n            _c(\n              \"navigator\",\n              {\n                staticClass: \"option myaddress\",\n                staticStyle: {\n                  background:\n                    \"url('../../static/images/address.png') no-repeat 35% center\",\n                  \"background-size\": \"auto 60%\"\n                },\n                attrs: {\n                  url: \"/pages/address/address\",\n                  \"open-type\": \"navigate\"\n                }\n              },\n              [_vm._v(\"我的地址\")]\n            )\n          ],\n          1\n        )\n      ])\n    : _c(\n        \"view\",\n        { staticClass: \"page\" },\n        [\n          _c(\n            \"button\",\n            {\n              staticClass: \"getUserInfo\",\n              attrs: {\n                type: \"primary\",\n                \"open-type\": \"getUserInfo\",\n                withCredentials: \"true\",\n                eventid: \"33b069f0-0\"\n              },\n              on: { getuserinfo: _vm.getuserinfo }\n            },\n            [_vm._v(\"用户登陆\")]\n          )\n        ],\n        1\n      )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}